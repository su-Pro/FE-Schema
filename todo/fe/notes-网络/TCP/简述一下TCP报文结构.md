## 简述一下 TCP 报文结构?

首部结构如下所示：

![首部报文](./../../../img/网络/TCP/TCP首部报文.jpg)

### 源端口号、目标端口号

TCP 的报文里是没有源 ip 和目标 ip 的，因为那是 IP 层协议的事情，TCP 层只有源端口和目标端口。

> 源 IP、源端口、目标 IP、目标端口构成了 TCP 连接的「四元组」。一个四元组可以唯一标识一个连接。

### 序列号

TCP 是面向字节流的协议，通过 TCP 传输的字节流的每个字节都分配了序列号，序列号（Sequence number）指的是本报文段第一个字节的序列号。

> 在 SYN 报文中，序列号用于交换彼此的初始序列号，在其它报文中，序列号用于保证包的顺序。

### 初始序列号

初始建立连接的过程中 SYN 报文交换过程如下图所示
![](../../../img/网络/TCP/TCP%20ISN.jpg)

### 确认号

TCP 使用确认号（Acknowledgment number, ACK）来告知对方下一个期望接收的序列号，小于此确认号的所有字节都已经收到。
